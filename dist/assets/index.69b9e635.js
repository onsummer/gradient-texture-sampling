const A=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}};A();const d=1<<8,m=document.createElement("canvas"),s=m.getContext("2d");m.width=d;m.height=1;const x=(n="rgba(255, 255, 255, 1)")=>{s.clearRect(0,0,256,1),s.fillStyle=n,s.fillRect(0,0,256,1)},R=n=>{const{steps:r}=n;x();const o=s.createLinearGradient(0,0,d,1);return r.forEach(t=>{o.addColorStop(t[0],t[1])}),s.fillStyle=o,s.fillRect(0,0,d,1),s.getImageData(0,0,256,1)},_=(n,r)=>[[0,n],[1,r]],h=_("rgb(1, 1, 1)","rgb(255, 255, 255)"),D=_("rgb(255, 255, 255)","rgb(0, 255, 0)"),p=[[0,"rgb(255, 0, 0)"],[1/6,"rgb(255, 165, 0)"],[2/6,"rgb(255, 255, 0)"],[3/6,"rgb(0, 255, 0)"],[4/6,"rgb(0, 255, 255)"],[5/6,"rgb(0, 0, 255)"],[6/6,"rgb(139, 0, 255)"]],U={position:[-.8,.8,1.2,-.8,-.8,9.78,.8,.8,-3.5,.8,.8,-3.5,-.8,-.8,9.78,.8,-.8,4.81],uv:[]},y=`precision mediump float;
attribute vec3 aPos;
varying float z;

void main() {
  z = aPos.z;
  gl_Position = vec4(aPos.xy, 0.0, 1.0);
}
`,L=`precision mediump float;
varying float z;
uniform vec2 uMinmax;
uniform sampler2D uBell;

void main() {
  float n = (z - uMinmax.x) / (uMinmax.y - uMinmax.x);
  vec4 c = texture2D(uBell, vec2(n, 0.5));
  gl_FragColor = c;
}
`,P=(n,r)=>{const o=document.createElement("div");o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",["rainbow","black_white","green_white"].forEach(a=>{const t=document.createElement("button");t.innerHTML=a,t.onclick=()=>{r(a)},o.appendChild(t)}),n.appendChild(o)},f=document.querySelector("#app"),E=document.createElement("canvas");E.width=500;E.height=500;E.style.border="1px solid rgb(150, 150, 150)";const g=document.createElement("span");g.innerText="\u521D\u59CB\u5316...";f.appendChild(g);f.appendChild(E);let T=0;const e=E.getContext("webgl"),l=e.createProgram(),c={program:l,vertexBuffer:e.createBuffer(),positionAttribLoc:e.getAttribLocation(l,"aPos")},v=n=>{console.log("You selected: ",n);let r;switch(n){case"black_white":r=h;break;case"green_white":r=D;break;default:r=p;break}const o=R({steps:r}),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,o.width,o.height,0,e.RGBA,e.UNSIGNED_BYTE,o.data),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a),e.uniform1i(e.getUniformLocation(l,"uBell"),0)};P(f,v);const S=()=>{const n=e.createShader(e.VERTEX_SHADER),r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(n,y),e.shaderSource(r,L),e.compileShader(n),e.compileShader(r),e.attachShader(c.program,n),e.attachShader(c.program,r),e.linkProgram(c.program),e.useProgram(c.program),e.bindBuffer(e.ARRAY_BUFFER,c.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(U.position),e.DYNAMIC_DRAW),e.bindAttribLocation(c.program,c.positionAttribLoc,"aPos"),e.enableVertexAttribArray(c.positionAttribLoc),e.vertexAttribPointer(c.positionAttribLoc,3,e.FLOAT,!1,4*3,0);const o=R({steps:p}),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,o.width,o.height,0,e.RGBA,e.UNSIGNED_BYTE,o.data),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a),e.uniform1i(e.getUniformLocation(l,"uBell"),0)},b=()=>{e.uniform2f(e.getUniformLocation(l,"uMinmax"),-3.5,9.78),e.viewport(0,0,500,500),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLES,0,6),T++,T%60===0&&(g.innerText=`\u5DF2\u7ECF\u8FC7 ${T/60} \u79D2`),requestAnimationFrame(b)},X=()=>{S(),requestAnimationFrame(b)};X();
